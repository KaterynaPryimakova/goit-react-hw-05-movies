{"version":3,"file":"static/js/884.b01b3830.chunk.js","mappings":"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","sources":["pages/MovieDetails.jsx","service/api.js"],"sourcesContent":["import { useState, useEffect, useRef, Suspense } from 'react';\nimport { useParams, Link, Outlet, useLocation } from 'react-router-dom';\nimport { getMovieDetails } from 'service/api';\n\nconst MovieDetails = () => {\n  const location = useLocation();\n  const backLinckLocationRef = useRef(location.state?.from ?? '/');\n  const { movieId } = useParams();\n\n  const [posterPath, setPosterPath] = useState('');\n  const [title, setTitle] = useState('');\n  const [releaseDate, setReleaseDate] = useState('');\n  const [voteAverage, setVoteAverage] = useState(0);\n  const [overview, setOverview] = useState('');\n  const [genres, setGenres] = useState('');\n\n  useEffect(() => {\n    const getMovieData = async () => {\n      try {\n        const movieData = await getMovieDetails(movieId);\n\n        const defaultImg =\n          '<https://ireland.apollo.olxcdn.com/v1/files/0iq0gb9ppip8-UA/image;s=1000x700>';\n\n        const imgSrc = movieData.poster_path\n          ? `https://image.tmdb.org/t/p/w300${movieData.poster_path}`\n          : defaultImg;\n\n        if (!movieData) return;\n\n        const { title, release_date, vote_average, overview, genres } =\n          movieData;\n\n        const votePercent = Math.floor(vote_average * 10);\n        const releaseYear = release_date.split('-')[0];\n        const genresNames = genres.map(genre => genre.name).join(' ');\n\n        setPosterPath(imgSrc);\n        setTitle(title);\n        setReleaseDate(releaseYear);\n        setVoteAverage(votePercent);\n        setOverview(overview);\n        setGenres(genresNames);\n      } catch (error) {\n        console.error(error.message);\n      }\n    };\n\n    getMovieData();\n  }, [movieId]);\n\n  return (\n    <div>\n      <Link to={backLinckLocationRef.current}>Go back</Link>\n\n      <section>\n        <div>\n          <img src={posterPath} alt={title} width=\"300\" />\n        </div>\n        <h1>\n          {title}({releaseDate})\n        </h1>\n        <p>User score: {voteAverage}%</p>\n        <h2>Overview</h2>\n        <p>{overview}</p>\n        <h2>Genres</h2>\n        <p>{genres}</p>\n      </section>\n\n      <section>\n        <p>Additional information</p>\n        <ul>\n          <li>\n            <Link to=\"cast\" state={{ from: location }}>\n              Cast\n            </Link>\n          </li>\n          <li>\n            <Link to=\"reviews\" state={{ from: location }}>\n              Reviews\n            </Link>\n          </li>\n        </ul>\n      </section>\n\n      <Suspense fallback={<p>Loading...</p>}>\n        <Outlet />\n      </Suspense>\n    </div>\n  );\n};\nexport default MovieDetails;\n","import axios from 'axios';\n// 8c1d02b978dbff183fcda89eac0b3f2e\n// https://api.themoviedb.org /3/trending/movie/ {time_window}\n// const API_KEY = '8c1d02b978dbff183fcda89eac0b3f2e';\n// const BEARER =\n//   'eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI4YzFkMDJiOTc4ZGJmZjE4M2ZjZGE4OWVhYzBiM2YyZSIsInN1YiI6IjY1OTg2OTk5ODliNTYxMDA5NDhhZGMzYyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.pwhIrlGsVm3C03dU2MtOpUDLJCSTdu_amMw5kHkRjgg';\n// const DAY = Date.now();\n// axios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n// axios.defaults.headers = {\n//   Authorization: BEARER,\n//   Accept: 'aplication/json',\n// };\n\nexport const getTrending = async () => {\n  try {\n    const response = await axios.get(\n      'https://api.themoviedb.org/3/trending/movie/day?api_key=8c1d02b978dbff183fcda89eac0b3f2e'\n    );\n    return response.data.results;\n  } catch (error) {\n    console.error(error.message);\n  }\n};\n\nexport const getMovieDetails = async movieId => {\n  try {\n    const response = await axios.get(\n      `https://api.themoviedb.org/3/movie/${movieId}?api_key=8c1d02b978dbff183fcda89eac0b3f2e`\n    );\n    return response.data;\n  } catch (error) {\n    console.error(error.message);\n  }\n};\n\nexport const getCast = async movieId => {\n  try {\n    const response = await axios.get(\n      `https://api.themoviedb.org/3/movie/${movieId}/credits?api_key=8c1d02b978dbff183fcda89eac0b3f2e`\n    );\n    return response.data.cast;\n  } catch (error) {\n    console.error(error.message);\n  }\n};\n\nexport const getReviews = async movieId => {\n  try {\n    const response = await axios.get(\n      `https://api.themoviedb.org/3/movie/${movieId}/reviews?api_key=8c1d02b978dbff183fcda89eac0b3f2e&language=en-US&page=1`\n    );\n    return response.data.results;\n  } catch (error) {\n    console.error(error.message);\n  }\n};\n\nexport const getMovie = async query => {\n  try {\n    const response = await axios.get(\n      `https://api.themoviedb.org/3/search/movie?query=${query}&api_key=8c1d02b978dbff183fcda89eac0b3f2e`\n    );\n    return response.data.results;\n  } catch (error) {\n    console.error(error.message);\n  }\n};\n"],"names":["_location$state$from","_location$state","location","useLocation","backLinckLocationRef","useRef","state","from","movieId","useParams","_useState","useState","_useState2","_slicedToArray","posterPath","setPosterPath","_useState3","_useState4","title","setTitle","_useState5","_useState6","releaseDate","setReleaseDate","_useState7","_useState8","voteAverage","setVoteAverage","_useState9","_useState10","overview","setOverview","_useState11","_useState12","genres","setGenres","useEffect","getMovieData","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","movieData","imgSrc","_title","release_date","vote_average","_overview","_genres","votePercent","releaseYear","genresNames","_context","prev","next","getMovieDetails","sent","poster_path","concat","abrupt","Math","floor","split","map","genre","name","join","t0","console","error","message","stop","apply","arguments","_jsxs","children","_jsx","Link","to","current","src","alt","width","Suspense","fallback","Outlet","getTrending","response","axios","data","results","_ref2","_callee2","_context2","_x","getCast","_ref3","_callee3","_context3","cast","_x2","getReviews","_ref4","_callee4","_context4","_x3","getMovie","_ref5","_callee5","query","_context5","_x4"],"sourceRoot":""}